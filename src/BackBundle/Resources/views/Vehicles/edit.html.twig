{% extends "::school_dashboard.html.twig" %}

{% block body %}
    <!-- Page Heading -->
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                Votre auto école <small>{{ school.name }}</small>
            </h1>
            <ol class="breadcrumb">
                <li>
                    <i class="fa fa-dashboard"></i> <a href="{{ path('back_schools_show', { id: school.id }) }}">{{ school.name }}</a>
                </li>
                <li>
                    <a href="{{ path('back_schools_vehicles', { school_id: school.id }) }}">Les vehicules</a>
                </li>
                <li class="active">
                    <i class="fa"></i> Mettre à jour
                </li>
            </ol>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">

            <div class="row">
                <div class="col-md-12">
                    {{ form_start(form, { attr: { action: path('back_schools_vehicles_update', { 'school_id': school.id, 'vehicle_id': vehicle.id }) }}) }}
                    <div class="form-group">
                        {{ form_label(form.brand) }}
                        {{ form_widget(form.brand, { attr: { class: 'form-control', placeholder: 'Marque'}}) }}
                        {{ form_errors(form.brand) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.ref) }}
                        {{ form_widget(form.ref, { attr: { class: 'form-control', placeholder: 'Références'}}) }}
                        {{ form_errors(form.ref) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.type) }}
                        {{ form_widget(form.type, { attr: { class: 'form-control', placeholder: 'Type (voiture, moto, ...)'}}) }}
                        {{ form_errors(form.type) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.description) }}
                        {{ form_widget(form.description, { attr: { class: 'form-control', placeholder: 'Description'}}) }}
                        {{ form_errors(form.description) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.lastCheck) }}
                        {{ form_widget(form.lastCheck, { value: vehicle.lastCheck|date('Y/m/d'), attr: { class: 'form-control', placeholder: 'Dernier contrôle (YYYY/mm/dd)'}}) }}
                        {{ form_errors(form.lastCheck) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.kilometers) }}
                        {{ form_widget(form.kilometers, { attr: { class: 'form-control', placeholder: 'Nombre de km'}}) }}
                        {{ form_errors(form.kilometers) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.information) }}
                        {{ form_widget(form.information, { attr: { class: 'form-control', placeholder: 'Information (note privée sur ce vehicle)'}}) }}
                        {{ form_errors(form.information) }}
                    </div>
                    <button class="btn btn-primary btn-block" type="submit">Mettre à jour</button>
                    <br/>
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            {{ form_start(destroyForm, { action: path('back_schools_vehicles_destroy', { school_id: school.id, vehicle_id: vehicle.id }) }) }}
                {{ form_widget(destroyForm._token) }}
                <button class="btn btn-danger">Supprimer</button>
            {{ form_end(destroyForm, { render_rest: false }) }}
        </div>
    </div>
{% endblock %}
